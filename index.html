<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title></title>
</head>
<body>
<button id="button">有人想加你为好友</button>
<p id="text"></p>
<script type="text/javascript">
	if (window.Notification) {
		var button = document.getElementById('button'), text = document.getElementById('text');

		var popNotice = function() {
		if (Notification.permission == "granted") {
		    var notification = new Notification("Hi，我是冰冰，我喜欢你好久了：", {
			        body: '可以加你为好友吗？',
			        icon: 'https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=407576570,4111165499&fm=58'
		    	});
		    
			    notification.onclick = function() {
			        text.innerHTML = '王凤卿已于' + new Date().toTimeString().split(' ')[0] + '加范冰冰为好友！';
			        notification.close();    
			    };
			}    
		};

		button.onclick = function() {
			if (Notification.permission == "granted") {
			    popNotice();
			}else if(Notification.permission != "denied") {
			    Notification.requestPermission(function (permission) {
			      		popNotice();
			    	});
				}
			};
		}else{
			alert('浏览器不支持Notification');    
	}
	</script>
</body>
</html>